{% extends "layout.html" %}

{% block content %}
    <meta>
    <h1>Howdy</h1>
    <form method="POST" action="/about">
        <div class="form-group">
            <input type="text" name="var" onkeypress="innames">
        </div>
        <input class="btn btn-primary" type="submit" value="submit">
    </form>
    
    <br>
    
    Here's your Howdy: {{ var }}
    <br>

    <p id="test">test</p>

    <br>

    {% for field in entfields %}
        <select name={{field}} method="POST" action="/about">
            <option value={{field[0]}} selected>{{field[0]}}</option>
            {% for term in field[1:] %}
                <option value={{field}}>{{term}}</option>
            {% endfor %}
        </select>
    {% endfor %}

    <br>
  
    <input type="text" id="myInput" onkeyup="autofilter()" placeholder="Search for spells...">
    
    <br>

    <div id="spells">
    {% for name in spellnames %}
        <div class=spell>{{name[1]}}</div>
    {% endfor %}
    </div>


    <script>

    function autofilter() {
        var input, filter, spellsraw, spells, spell, i, txtValue
        input = document.getElementById('myInput');
        filter = input.value.toUpperCase();
        spellsraw = document.getElementById("spells")
        spells = spellsraw.getElementsByClassName("spell")
        for (i = 0; i < spells.length; i++ ){
            spell = spells[i]
            txtvalue = spell.innerHTML
            if (txtvalue.toUpperCase().indexOf(filter) > -1){
                spells[i].style.display = "";    
            } else {
                spells[i].style.display = "none";
            }
        }
    }


    </script>


{% endblock content %}